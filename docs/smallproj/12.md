# #11 点击诱饵标题生成器

> 原文：<http://inventwithpython.com/bigbookpython/project11.html>

![](img/9d995d63aaead72cad01120081eb8f75.png)

我们的网站需要欺骗人们去看广告！但是想出有创意的原创内容太难了。幸运的是，有了 clickbait 标题生成器，我们可以让一台计算机产生数百万个令人发指的虚假标题。都是低质量的，但读者似乎并不介意。这个程序根据你的需要从一个疯狂的 Libs 风格的模板中生成尽可能多的标题。

这个程序中有很多标题模板的文本，但是代码本身很简单，适合初学者。

## 行动中的计划

当您运行 `clickbait.py` 时，输出将如下所示:

```py
Clickbait Headline Generator
By Al Sweigart email@protected

Our website needs to trick people into looking at ads!
Enter the number of clickbait headlines to generate:
> 1000
Big Companies Hate Him! See How This New York Cat Invented a Cheaper Robot
What Telephone Psychics Don't Want You To Know About Avocados
You Won't Believe What This North Carolina Shovel Found in Her Workplace
`--snip--`
14 Reasons Why Parents Are More Interesting Than You Think (Number 1 Will Surprise You!)
What Robots Don't Want You To Know About Cats
This Florida Telephone Psychic Didn't Think Robots Would Take Her Job. She Was Wrong.
```

## 它是如何工作的

这个程序有几个功能来生成不同类型的点击诱饵标题。他们每个人都从`STATES`、`NOUNS`、`PLACES`、`WHEN`和其他列表中获得随机单词。这些函数然后用`format()`字符串方法将这些单词插入到一个模板字符串中，然后返回这个字符串。这就像一本“Mad Libs”活动书，只是电脑会填空，让程序在几秒钟内生成数千个 clickbait 标题。

```py
"""Clickbait Headline Generator, by Al Sweigart email@protected #  1
A clickbait headline generator for your soulless content farm website. #  2
This code is available at https://nostarch.com/big-book-small-python-programming #  3
Tags: large, beginner, humor, word""" #  4
 #  5
import random #  6
 #  7
# Set up the constants: #  8
OBJECT_PRONOUNS = ['Her', 'Him', 'Them'] #  9
POSSESIVE_PRONOUNS = ['Her', 'His', 'Their'] #  10
PERSONAL_PRONOUNS = ['She', 'He', 'They'] #  11
STATES = ['California', 'Texas', 'Florida', 'New York', 'Pennsylvania', #  12
         'Illinois', 'Ohio', 'Georgia', 'North Carolina', 'Michigan'] #  13
NOUNS = ['Athlete', 'Clown', 'Shovel', 'Paleo Diet', 'Doctor', 'Parent', #  14
        'Cat', 'Dog', 'Chicken', 'Robot', 'Video Game', 'Avocado', #  15
        'Plastic Straw','Serial Killer', 'Telephone Psychic'] #  16
PLACES = ['House', 'Attic', 'Bank Deposit Box', 'School', 'Basement', #  17
         'Workplace', 'Donut Shop', 'Apocalypse Bunker'] #  18
WHEN = ['Soon', 'This Year', 'Later Today', 'RIGHT NOW', 'Next Week'] #  19
 #  20
 #  21
def main(): #  22
   print('Clickbait Headline Generator') #  23
   print('By Al Sweigart email@protected') #  24
   print() #  25
 #  26
   print('Our website needs to trick people into looking at ads!') #  27
   while True: #  28
       print('Enter the number of clickbait headlines to generate:') #  29
       response = input('> ') #  30
       if not response.isdecimal(): #  31
           print('Please enter a number.') #  32
       else: #  33
           numberOfHeadlines = int(response) #  34
           break  # Exit the loop once a valid number is entered. #  35
 #  36
   for i in range(numberOfHeadlines): #  37
       clickbaitType = random.randint(1, 8) #  38
 #  39
       if clickbaitType == 1: #  40
           headline = generateAreMillenialsKillingHeadline() #  41
       elif clickbaitType == 2: #  42
           headline = generateWhatYouDontKnowHeadline() #  43
       elif clickbaitType == 3: #  44
           headline = generateBigCompaniesHateHerHeadline() #  45
       elif clickbaitType == 4: #  46
           headline = generateYouWontBelieveHeadline() #  47
       elif clickbaitType == 5: #  48
           headline = generateDontWantYouToKnowHeadline() #  49
       elif clickbaitType == 6: #  50
           headline = generateGiftIdeaHeadline() #  51
       elif clickbaitType == 7: #  52
           headline = generateReasonsWhyHeadline() #  53
       elif clickbaitType == 8: #  54
           headline = generateJobAutomatedHeadline() #  55
 #  56
       print(headline) #  57
   print() #  58
 #  59
   website = random.choice(['wobsite', 'blag', 'Facebuuk', 'Googles', #  60
                            'Facesbook', 'Tweedie', 'Pastagram']) #  61
   when = random.choice(WHEN).lower() #  62
   print('Post these to our', website, when, 'or you\'re fired!') #  63
 #  64
 #  65
# Each of these functions returns a different type of headline: #  66
def generateAreMillenialsKillingHeadline(): #  67
   noun = random.choice(NOUNS) #  68
   return 'Are Millenials Killing the {} Industry?'.format(noun) #  69
 #  70
 #  71
def generateWhatYouDontKnowHeadline(): #  72
   noun = random.choice(NOUNS) #  73
   pluralNoun = random.choice(NOUNS) + 's' #  74
   when = random.choice(WHEN) #  75
   return 'Without This {}, {} Could Kill You {}'.format(noun, pluralNoun, when) #  76
 #  77
 #  78
def generateBigCompaniesHateHerHeadline(): #  79
   pronoun = random.choice(OBJECT_PRONOUNS) #  80
   state = random.choice(STATES) #  81
   noun1 = random.choice(NOUNS) #  82
   noun2 = random.choice(NOUNS) #  83
   return 'Big Companies Hate {}! See How This {}  {} Invented a Cheaper {}'.format(pronoun, state, noun1, noun2) #  84
 #  85
 #  86
def generateYouWontBelieveHeadline(): #  87
   state = random.choice(STATES) #  88
   noun = random.choice(NOUNS) #  89
   pronoun = random.choice(POSSESIVE_PRONOUNS) #  90
   place = random.choice(PLACES) #  91
   return 'You Won\'t Believe What This {}  {} Found in {}  {}'.format(state, noun, pronoun, place) #  92
 #  93
 #  94
def generateDontWantYouToKnowHeadline(): #  95
   pluralNoun1 = random.choice(NOUNS) + 's' #  96
   pluralNoun2 = random.choice(NOUNS) + 's' #  97
   return 'What {} Don\'t Want You To Know About {}'.format(pluralNoun1, pluralNoun2) #  98
 #  99
 # 100
def generateGiftIdeaHeadline(): # 101
    number = random.randint(7, 15) # 102
    noun = random.choice(NOUNS) # 103
    state = random.choice(STATES) # 104
    return '{} Gift Ideas to Give Your {} From {}'.format(number, noun, state) # 105
 # 106
 # 107
def generateReasonsWhyHeadline(): # 108
    number1 = random.randint(3, 19) # 109
    pluralNoun = random.choice(NOUNS) + 's' # 110
    # number2 should be no larger than number1: # 111
    number2 = random.randint(1, number1) # 112
    return '{} Reasons Why {} Are More Interesting Than You Think (Number {} Will Surprise You!)'.format(number1, pluralNoun, number2) # 113
 # 114
 # 115
def generateJobAutomatedHeadline(): # 116
    state = random.choice(STATES) # 117
    noun = random.choice(NOUNS) # 118
 # 119
    i = random.randint(0, 2) # 120
    pronoun1 = POSSESIVE_PRONOUNS[i] # 121
    pronoun2 = PERSONAL_PRONOUNS[i] # 122
    if pronoun1 == 'Their': # 123
        return 'This {}  {} Didn\'t Think Robots Would Take {} Job. {} Were Wrong.'.format(state, noun, pronoun1, pronoun2) # 124
    else: # 125
        return 'This {}  {} Didn\'t Think Robots Would Take {} Job. {} Was Wrong.'.format(state, noun, pronoun1, pronoun2) # 126
 # 127
 # 128
# If the program is run (instead of imported), run the game: # 129
if __name__ == '__main__': # 130
    main()  # 131
```

在输入源代码并运行几次之后，尝试对其进行实验性的修改。你也可以自己想办法做到以下几点:

*   添加其他类型的点击诱饵标题。
*   添加新的单词类别，超出`NOUNS`、`STATES`等。

## 探索计划

试着找出下列问题的答案。尝试对代码进行一些修改，然后重新运行程序，看看这些修改有什么影响。

1.  如果删除或注释掉第 34 行的`numberOfHeadlines = int(response)`,会得到什么错误信息？
2.  如果将第 34 行的`int(response)`改为`response`，会得到什么错误信息？
3.  如果将第 19 行改为`WHEN = []`，会得到什么错误信息？