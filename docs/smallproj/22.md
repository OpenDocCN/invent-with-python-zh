# #21 DNA 可视化

> 原文：<http://inventwithpython.com/bigbookpython/project21.html>

![](img/9d995d63aaead72cad01120081eb8f75.png)

脱氧核糖核酸是一种微小的分子，存在于我们身体的每个细胞中，包含着我们身体如何生长的蓝图。它看起来像一对核苷酸分子的双螺旋结构:鸟嘌呤、胞嘧啶、腺嘌呤和胸腺嘧啶。这些用字母 G、C、A 和 t 来表示。DNA 是一个长分子；它是微观的，但是如果把它拉长，它的 30 亿个碱基对会有 2 米长！这个程序是一个简单的 DNA 动画。

## 行动中的计划

当您运行 `dna.py` 时，输出将如下所示:

```py
DNA Animation, by Al Sweigart email@protected
Press Ctrl-C to quit...
        #G-C#
       #C---G#
      #T-----A#
     #T------A#
    #A------T#
    #G-----C#
     #G---C#
     #C-G#
      ##
     #T-A#
     #C---G#
    #G-----C#
    #G------C#
     #T------A#
      #A-----T#
       #C---G#
        #G-C#
         ##
        #T-A#
       #T---A#
      #A-----T#
`--snip--`
```

## 它是如何工作的

与项目 15“Deep Cave”和项目 20“Digital Stream”类似，这个程序通过打印`ROWS`列表中的字符串来创建滚动动画。使用`format()`字符串方法将 AT 和 CG 对插入到每个字符串中。

```py
"""DNA, by Al Sweigart email@protected #  1
A simple animation of a DNA double-helix. Press Ctrl-C to stop. #  2
Inspired by matoken https://asciinema.org/a/155441 #  3
This code is available at https://nostarch.com/big-book-small-python-programming #  4
Tags: short, artistic, scrolling, science""" #  5
 #  6
import random, sys, time #  7
 #  8
PAUSE = 0.15  # (!) Try changing this to 0.5 or 0.0. #  9
 # 10
# These are the individual rows of the DNA animation: # 11
ROWS = [ # 12
    #123456789 <- Use this to measure the number of spaces: # 13
    '         ##',  # Index 0 has no {}. # 14
    '        #{}-{}#', # 15
    '       #{}---{}#', # 16
    '      #{}-----{}#', # 17
    '     #{}------{}#', # 18
    '    #{}------{}#', # 19
    '    #{}-----{}#', # 20
    '     #{}---{}#', # 21
    '     #{}-{}#', # 22
    '      ##',  # Index 9 has no {}. # 23
    '     #{}-{}#', # 24
    '     #{}---{}#', # 25
    '    #{}-----{}#', # 26
    '    #{}------{}#', # 27
    '     #{}------{}#', # 28
    '      #{}-----{}#', # 29
    '       #{}---{}#', # 30
    '        #{}-{}#'] # 31
    #123456789 <- Use this to measure the number of spaces: # 32
 # 33
try: # 34
    print('DNA Animation, by Al Sweigart email@protected') # 35
    print('Press Ctrl-C to quit...') # 36
    time.sleep(2) # 37
    rowIndex = 0 # 38
 # 39
    while True:  # Main program loop. # 40
        # Increment rowIndex to draw next row: # 41
        rowIndex = rowIndex + 1 # 42
        if rowIndex == len(ROWS): # 43
            rowIndex = 0 # 44
 # 45
        # Row indexes 0 and 9 don't have nucleotides: # 46
        if rowIndex == 0 or rowIndex == 9: # 47
            print(ROWS[rowIndex]) # 48
            continue # 49
 # 50
        # Select random nucleotide pairs, guanine-cytosine and # 51
        # adenine-thymine: # 52
        randomSelection = random.randint(1, 4) # 53
        if randomSelection == 1: # 54
            leftNucleotide, rightNucleotide = 'A', 'T' # 55
        elif randomSelection == 2: # 56
            leftNucleotide, rightNucleotide = 'T', 'A' # 57
        elif randomSelection == 3: # 58
            leftNucleotide, rightNucleotide = 'C', 'G' # 59
        elif randomSelection == 4: # 60
            leftNucleotide, rightNucleotide = 'G', 'C' # 61
 # 62
        # Print the row. # 63
        print(ROWS[rowIndex].format(leftNucleotide, rightNucleotide)) # 64
        time.sleep(PAUSE)  # Add a slight pause. # 65
except KeyboardInterrupt: # 66
    sys.exit()  # When Ctrl-C is pressed, end the program.  # 67
```

## 探索计划

试着找出下列问题的答案。尝试对代码进行一些修改，然后重新运行程序，看看这些修改有什么影响。

1.  如果把第 42 行的`rowIndex = rowIndex + 1`改成`rowIndex = rowIndex + 2`会怎么样？
2.  如果把 53 行的`random.randint(1, 4)`改成`random.randint(1, 2)`会怎么样？
3.  如果将第 9 行的`PAUSE = 0.15`设置为`PAUSE = -0.15`，会得到什么错误信息？